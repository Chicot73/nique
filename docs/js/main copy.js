"use strict";function restaurantFn(){document.querySelector(".restaurant__dummy").scrollIntoView({block:"start",behavior:"smooth"})}function restaurantFn2(){document.location.replace("index.html"),document.querySelector(".restaurant__dummy").scrollIntoView({block:"start",behavior:"smooth"})}function menuFn(){document.querySelector(".menu__dummy").scrollIntoView({block:"start",behavior:"smooth"})}function menuFn2(){document.location.replace("index.html"),document.querySelector(".menu__dummy").scrollIntoView({block:"start",behavior:"smooth"})}function classesFn(){document.querySelector(".classes__dummy").scrollIntoView({block:"start",behavior:"smooth"})}function menuup01Fn(){document.getElementById("starters").scrollIntoView({block:"start",behavior:"smooth"})}function menuup02Fn(){document.getElementById("breakfast").scrollIntoView({block:"start",behavior:"smooth"})}function menuup03Fn(){document.getElementById("dinner").scrollIntoView({block:"start",behavior:"smooth"})}function menuup04Fn(){document.getElementById("drinks").scrollIntoView({block:"start",behavior:"smooth"})}window.addEventListener("DOMContentLoaded",function(){document.querySelector("body");var y=document.querySelector(".mouse"),p=0;onwheel=function(e){window.onscroll=function(e){var t=window.scrollY,o=document.querySelector(".restaurant__dummy"),n=document.getElementById("restaurant-span"),r=document.querySelector(".menu__dummy"),u=document.getElementById("dinner"),c=document.getElementById("drinks"),l=o.getBoundingClientRect().top,s=n.getBoundingClientRect().bottom,d=r.getBoundingClientRect().top,m=u.getBoundingClientRect().bottom,i=c.getBoundingClientRect().bottom;if(p<t){var a=document.getElementById("downmenu");a.classList.remove("hide"),a.classList.add("show"),y.style.opacity=0,clearInterval(_,1500),s<=0&&document.querySelector(".logo").classList.add("logo__onleft"),l<=0&&(document.querySelector(".menu__img").style.display="block"),d<=0&&(document.querySelector(".menuup").classList.add("menuup__sticky"),document.querySelector(".menu__wrapper").style.paddingTop="8.4rem",document.getElementById("menu").classList.add("title-fixed")),m<=0&&(document.getElementById("menu").classList.remove("title-fixed"),document.getElementById("menu").style.top="249rem"),i<=0&&(document.querySelector(".menuup").classList.remove("menuup__sticky"),document.querySelector(".menu__wrapper").style.paddingTop=0,document.querySelector(".logo").classList.remove("logo__onleft"))}else t<p&&(0<=i&&(document.querySelector(".menuup").classList.add("menuup__sticky"),document.querySelector(".menu__wrapper").style.paddingTop="8.4rem",document.querySelector(".logo").classList.add("logo__onleft")),0<=m&&(document.getElementById("menu").classList.add("title-fixed"),document.getElementById("menu").style.top="37rem"),0<=d&&(document.querySelector(".menuup").classList.remove("menuup__sticky"),document.querySelector(".menu__wrapper").style.paddingTop=0,document.getElementById("menu").classList.remove("title-fixed")),0<=l&&(document.querySelector(".menu__img").style.display="none"),0<=s&&document.querySelector(".logo").classList.remove("logo__onleft"));p=t<=0?0:t}()},scroll=function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(e){onwheel(e),window.removeEventListener("scroll",scroll)}),window.addEventListener("scroll",scroll,!0);var e=document.getElementById("clocks"),t=e.childNodes,o=e||t;o.addEventListener("mouseover",function(){var e=document.getElementById("times");e.classList.remove("hidden"),e.classList.add("active")}),o.addEventListener("mouseout",function(){var e=document.getElementById("times");e.classList.remove("active"),e.classList.add("hidden")});new Swiper(".myswiper",{autoplay:{delay:2500},speed:1e3,loop:!0,freeMode:!0,slidesPerView:"auto",centeredSlides:!0,spaceBetween:0,grabCursor:!0}),new Swiper(".myswiper2",{autoplay:{delay:2500},speed:1e3,loop:!0,freeMode:!0,slidesPerView:"auto",centeredSlides:!0,spaceBetween:0,grabCursor:!0});document.querySelector(".menu");var _=setInterval(function(){y.style.opacity=1,setTimeout(function(){y.classList.add("mouse__active")},750),y.classList.remove("mouse__active")},1500)});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4gY29weS5qcyJdLCJuYW1lcyI6WyJiZWhhdmlvciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInNjcm9sbEludG9WaWV3IiwiYmxvY2siLCJtZW51dXAwMkZuIiwibG9jYXRpb24iLCJyZXBsYWNlIiwibWVudXVwMDNGbiIsImdldEVsZW1lbnRCeUlkIiwibWVudUZuIiwibWVudXVwMDRGbiIsIm1lbnVGbjIiLCJjbGFzc2VzRm4iLCJtZW51dXAwMUZuIiwid2luZG93IiwiYm9keSIsIm1vdXNlIiwib25TY3JvbGwiLCJvbndoZWVsIiwiZSIsInJlc3RhdXJhbnQiLCJkcmlua3MiLCJ0b3AiLCJzdGF0aW9uMDEiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJzdGF0aW9uMDFvdXQiLCJyZXN0YXVyYW50U3BhbiIsInN0YXRpb24wMiIsIm1lbnUiLCJzdGF0aW9uMDJvdXQyIiwibGFzdFNjcm9sbFRvcCIsImJvdHRvbSIsImRvd25NZW51Iiwic3RhdGlvbjAyb3V0IiwiZGlubmVyIiwic3R5bGUiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJhZGQiLCJjbGVhckludGVydmFsIiwibW91c2VBbmltIiwicGFkZGluZ1RvcCIsImRpc3BsYXkiLCJfeCIsInNjcm9sbCIsIl9zY3JvbGwiLCJhcHBseSIsInRoaXMiLCJhcmd1bWVudHMiLCJ0b1N0cmluZyIsImFkZEV2ZW50TGlzdGVuZXIiLCJ0aW1lc0ljb24iLCJyZW1vdmVFdmVudExpc3RlbmVyIiwic2hvd1RpbWVzIiwidGltZXMiLCJ0aW1lc0ljb24yIiwiY2hpbGROb2RlcyIsInRpbWVzSWNvbnMiLCJsb29wIiwic3dpcGVyIiwiU3dpcGVyIiwiYXV0b3BsYXkiLCJkZWxheSIsInN3aXBlcjIiLCJzcGVlZCIsInNsaWRlc1BlclZpZXciLCJmcmVlTW9kZSIsImNlbnRlcmVkU2xpZGVzIiwidGhyb3R0bGUiLCJpc1Rocm90dGxlZCIsInNhdmVkQXJncyIsInNhdmVkVGhpcyIsInNwYWNlQmV0d2Vl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TUFFTkQsTUFBTyxJQUNWSixNQUFBLEVBQ0RNLFVBQVcsRUFDUEMsY0FBTSxPQUNWQyxnQkFBYyxFQUNkRCxhQUFlLEVBQ2ZFLFlBQWdCLElBS2xCLElBQUFQLE9BQUEsYUFBQSxDQVpFQyxTQUFVLENBZ0JkQyxNQUFBLE1BRUFFLE1BQVNJLElBRURDLE1BQUFBLEVBQ0FDLFVBQVMsRUFDVEMsY0FBUyxPQUViSixnQkFBbUIsRUFFZkssYUFBZSxFQUFJQyxZQUFBLElBZ0QvQnpFLFNBQUFDLGNBQUEsU0FBQSxJQW1JQXVDLEVBQWtCa0MsWUFBQSxXQUNkMUUsRUFBU0MsTUFBQUEsUUFBYyxFQUNuQkUsV0FBYyxXQUNOYSxFQUFFb0IsVUFBQUUsSUFBQSxrQkFDWixLQUNOdEIsRUFBQW9CLFVBQUFDLE9BQUEsa0JBRUEiLCJmaWxlIjoibWFpbiBjb3B5LmpzIiwic291cmNlc0NvbnRlbnQiOlsiXHJcblxyXG4vKiB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsICgpID0+IHtcclxuIFxyXG4gICAgZnVuY3Rpb24gdGhyb3R0bGUoZnVuYywgbXMpIHtcclxuIFxyXG4gICAgICAgIGxldCBpc1Rocm90dGxlZCA9IGZhbHNlLFxyXG4gICAgICAgICAgICBzYXZlZEFyZ3MsXHJcbiAgICAgICAgICAgIHNhdmVkVGhpcztcclxuIFxyXG4gICAgICAgIGZ1bmN0aW9uIHdyYXBwZXIoKSB7XHJcbiBcclxuICAgICAgICAgICAgaWYgKGlzVGhyb3R0bGVkKSB7IC8vICgyKVxyXG4gICAgICAgICAgICAgICAgc2F2ZWRBcmdzID0gYXJndW1lbnRzO1xyXG4gICAgICAgICAgICAgICAgc2F2ZWRUaGlzID0gdGhpcztcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gXHJcbiAgICAgICAgICAgIGZ1bmMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgLy8gKDEpXHJcbiBcclxuICAgICAgICAgICAgaXNUaHJvdHRsZWQgPSB0cnVlO1xyXG4gXHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaXNUaHJvdHRsZWQgPSBmYWxzZTsgLy8gKDMpXHJcbiAgICAgICAgICAgICAgICBpZiAoc2F2ZWRBcmdzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd3JhcHBlci5hcHBseShzYXZlZFRoaXMsIHNhdmVkQXJncyk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2F2ZWRBcmdzID0gc2F2ZWRUaGlzID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgbXMpO1xyXG4gICAgICAgIH1cclxuIFxyXG4gICAgICAgIHJldHVybiB3cmFwcGVyO1xyXG4gICAgfTsgLy/RjdGC0L4g0YTRg9C90LrRhtC40Y8g0LTQu9GPINGC0L7RgNC80L7QttC10L3QuNGPINGB0YDQsNCx0LDRgtGL0LLQsNC90LjRjyDRgdC+0LHRi9GC0LjRjyBcInNjcm9sbFwiXHJcbiBcclxuICAgIGNvbnN0IGYxMDAwID0gdGhyb3R0bGUoc2Nyb2xsSGFuZGxlciwgNTApO1xyXG4gICAgLy/RjdGC0L4g0L/QvtC00LrQu9GO0YfQtdC90LjQtSDRgSDQsNGA0LPRg9C80LXQvdGC0LDQvNC4OiDRh9GC0L4g0L/QvtC00YDRg9Cx0LDRgtGMINC4INCy0YDQtdC80Y8g0LIg0LzRgVxyXG4gXHJcbiAgICBmdW5jdGlvbiBzY3JvbGxIYW5kbGVyKCkge1xyXG4gXHJcbiAgICAgICAgbGV0IGRvd25NZW51ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkb3dubWVudVwiKTtcclxuIFxyXG4gICAgICAgIGZ1bmN0aW9uIGdldENvb3Jkcyhkb3duTWVudSkge1xyXG4gICAgICAgICAgICBsZXQgYm94ID0gZG93bk1lbnUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICB0b3A6IGJveC50b3AgLSB3aW5kb3cuc2Nyb2xsWVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBjb29yZHMgPSBnZXRDb29yZHMoZG93bk1lbnUpO1xyXG4gXHJcbiAgICAgICAgbGV0IHNjcmwgPSB3aW5kb3cuc2Nyb2xsWSB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wO1xyXG4gXHJcbiAgICAgICAgaWYgKHNjcmwgPj0gY29vcmRzLnRvcCAtIDQ1MCkge1xyXG4gXHJcbiAgICAgICAgICAgIGRvd25NZW51LmNsYXNzTGlzdC5yZW1vdmUoXCJuYXZhYnNvbHV0ZVwiKTtcclxuICAgICAgICAgICAgZG93bk1lbnUuY2xhc3NMaXN0LmFkZChcIm5hdmZpeGVkXCIpO1xyXG4gXHJcbiAgICAgICAgICAgIC8vIHdpbmRvdy5zY3JvbGxUbyh7XHJcbiBcclxuICAgICAgICAgICAgLy8gICAgIHRvcDogY29vcmRzLnRvcCAtIDkwLFxyXG4gICAgICAgICAgICAvLyAgICAgYmVoYXZpb3I6ICdhdXRvJyxcclxuICAgICAgICAgICAgLy8gfSlcclxuIFxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiBcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIGYxMDAwKTtcclxufSkgKi9cclxuXHJcblxyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsICgpID0+IHtcclxuXHJcbiAgICBsZXQgYm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJib2R5XCIpO1xyXG4gICAgbGV0IG1vdXNlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb3VzZVwiKTtcclxuICAgIC8vbGV0IG9uZVNjcm9sbCA9IDA7XHJcblxyXG4gICAgLyogbGV0IGRvd24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuICsrb25lU2Nyb2xsO1xyXG4gICAgfSAqL1xyXG5cclxuICAgIGxldCBsYXN0U2Nyb2xsVG9wID0gMDtcclxuXHJcbiAgICBvbndoZWVsID0gZnVuY3Rpb24gKGUpIHtcclxuXHJcbiAgICAgICAgd2luZG93Lm9uc2Nyb2xsID0gb25TY3JvbGwoZSk7XHJcbiAgICAgICAgZnVuY3Rpb24gb25TY3JvbGwoZSkge1xyXG5cclxuICAgICAgICAgICAgLy9sZXQgdG9wID0gZS50YXJnZXQuc2Nyb2xsVG9wO1xyXG4gICAgICAgICAgICBsZXQgdG9wID0gd2luZG93LnNjcm9sbFk7XHJcbiAgICAgICAgICAgIGxldCByZXN0YXVyYW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5yZXN0YXVyYW50X19kdW1teVwiKTtcclxuICAgICAgICAgICAgbGV0IHJlc3RhdXJhbnRTcGFuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyZXN0YXVyYW50LXNwYW5cIik7XHJcbiAgICAgICAgICAgIGxldCBtZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tZW51X19kdW1teVwiKTtcclxuICAgICAgICAgICAgbGV0IGRpbm5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGlubmVyXCIpO1xyXG4gICAgICAgICAgICBsZXQgZHJpbmtzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkcmlua3NcIik7XHJcbiAgICAgICAgICAgIC8vIGxldCBjbGFzc2VzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jbGFzc2VzX19kdW1teVwiKTtcclxuICAgICAgICAgICAgbGV0IHN0YXRpb24wMSA9IHJlc3RhdXJhbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xyXG4gICAgICAgICAgICBsZXQgc3RhdGlvbjAxb3V0ID0gcmVzdGF1cmFudFNwYW4uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuYm90dG9tO1xyXG4gICAgICAgICAgICBsZXQgc3RhdGlvbjAyID0gbWVudS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A7XHJcbiAgICAgICAgICAgIC8vIGxldCBzdGF0aW9uMDMgPSBjbGFzc2VzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDtcclxuICAgICAgICAgICAgbGV0IHN0YXRpb24wMm91dCA9IGRpbm5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5ib3R0b207XHJcbiAgICAgICAgICAgIGxldCBzdGF0aW9uMDJvdXQyID0gZHJpbmtzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmJvdHRvbTtcclxuXHJcbiAgICAgICAgICAgIGlmIChsYXN0U2Nyb2xsVG9wIDwgdG9wKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgZG93bk1lbnUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRvd25tZW51XCIpO1xyXG4gICAgICAgICAgICAgICAgZG93bk1lbnUuY2xhc3NMaXN0LnJlbW92ZShcImhpZGVcIik7XHJcbiAgICAgICAgICAgICAgICBkb3duTWVudS5jbGFzc0xpc3QuYWRkKFwic2hvd1wiKTtcclxuICAgICAgICAgICAgICAgIG1vdXNlLnN0eWxlLm9wYWNpdHkgPSAwO1xyXG4gICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChtb3VzZUFuaW0sIDE1MDApO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChzdGF0aW9uMDFvdXQgPD0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubG9nb1wiKS5jbGFzc0xpc3QuYWRkKFwibG9nb19fb25sZWZ0XCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHN0YXRpb24wMSA8PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tZW51X19pbWdcIikuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChzdGF0aW9uMDIgPD0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWVudXVwXCIpLmNsYXNzTGlzdC5hZGQoXCJtZW51dXBfX3N0aWNreVwiKTtcclxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1lbnVfX3dyYXBwZXJcIikuc3R5bGUucGFkZGluZ1RvcCA9IDguNCArICdyZW0nO1xyXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWVudVwiKS5jbGFzc0xpc3QuYWRkKFwidGl0bGUtZml4ZWRcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoc3RhdGlvbjAyb3V0IDw9IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1lbnVcIikuY2xhc3NMaXN0LnJlbW92ZShcInRpdGxlLWZpeGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWVudVwiKS5zdHlsZS50b3AgPSAyNDkgKyBcInJlbVwiO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHN0YXRpb24wMm91dDIgPD0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWVudXVwXCIpLmNsYXNzTGlzdC5yZW1vdmUoXCJtZW51dXBfX3N0aWNreVwiKTtcclxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1lbnVfX3dyYXBwZXJcIikuc3R5bGUucGFkZGluZ1RvcCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5sb2dvXCIpLmNsYXNzTGlzdC5yZW1vdmUoXCJsb2dvX19vbmxlZnRcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGxhc3RTY3JvbGxUb3AgPiB0b3ApIHtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoc3RhdGlvbjAyb3V0MiA+PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tZW51dXBcIikuY2xhc3NMaXN0LmFkZChcIm1lbnV1cF9fc3RpY2t5XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWVudV9fd3JhcHBlclwiKS5zdHlsZS5wYWRkaW5nVG9wID0gOC40ICsgJ3JlbSc7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5sb2dvXCIpLmNsYXNzTGlzdC5hZGQoXCJsb2dvX19vbmxlZnRcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoc3RhdGlvbjAyb3V0ID49IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1lbnVcIikuY2xhc3NMaXN0LmFkZChcInRpdGxlLWZpeGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWVudVwiKS5zdHlsZS50b3AgPSAzNyArIFwicmVtXCI7XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHN0YXRpb24wMiA+PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tZW51dXBcIikuY2xhc3NMaXN0LnJlbW92ZShcIm1lbnV1cF9fc3RpY2t5XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWVudV9fd3JhcHBlclwiKS5zdHlsZS5wYWRkaW5nVG9wID0gMDtcclxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1lbnVcIikuY2xhc3NMaXN0LnJlbW92ZShcInRpdGxlLWZpeGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHN0YXRpb24wMSA+PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tZW51X19pbWdcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHN0YXRpb24wMW91dCA+PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5sb2dvXCIpLmNsYXNzTGlzdC5yZW1vdmUoXCJsb2dvX19vbmxlZnRcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGFzdFNjcm9sbFRvcCA9IHRvcCA8PSAwID8gMCA6IHRvcDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2Nyb2xsID0gZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICBvbndoZWVsKGUpO1xyXG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIHNjcm9sbCk7XHJcbiAgICB9XHJcblxyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgc2Nyb2xsLCB0cnVlKTtcclxuXHJcblxyXG4gICAgbGV0IHRpbWVzSWNvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2xvY2tzXCIpO1xyXG4gICAgbGV0IHRpbWVzSWNvbjIgPSB0aW1lc0ljb24uY2hpbGROb2RlcztcclxuICAgIGxldCB0aW1lc0ljb25zID0gdGltZXNJY29uIHx8IHRpbWVzSWNvbjI7XHJcblxyXG4gICAgZnVuY3Rpb24gc2hvd1RpbWVzKCkge1xyXG4gICAgICAgIGxldCB0aW1lcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGltZXNcIik7XHJcbiAgICAgICAgdGltZXMuY2xhc3NMaXN0LnJlbW92ZShcImhpZGRlblwiKTtcclxuICAgICAgICB0aW1lcy5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIHRpbWVzSWNvbnMuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3ZlclwiIHx8IFwiY2xpY2tcIiwgc2hvd1RpbWVzKTtcclxuXHJcbiAgICBmdW5jdGlvbiBxdWl0VGltZXMoKSB7XHJcbiAgICAgICAgbGV0IHRpbWVzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0aW1lc1wiKTtcclxuICAgICAgICB0aW1lcy5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgIHRpbWVzLmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIik7XHJcbiAgICB9XHJcblxyXG4gICAgdGltZXNJY29ucy5hZGRFdmVudExpc3RlbmVyKFwibW91c2VvdXRcIiB8fCBcImNsaWNrXCIsIHF1aXRUaW1lcyk7XHJcbiAgICAvL3RpbWVzSWNvbnMuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3V0XCIgfHwgXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7IHNldFRpbWVvdXQocXVpdFRpbWVzLCA1MDApIH0pO1xyXG5cclxuXHJcblxyXG4gICAgLy9zd2lwZXIgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG5cclxuICAgIHZhciBzd2lwZXIgPSBuZXcgU3dpcGVyKFwiLm15c3dpcGVyXCIsIHtcclxuICAgICAgICBhdXRvcGxheToge1xyXG4gICAgICAgICAgICBkZWxheTogMjUwMCxcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNwZWVkOiAxMDAwLFxyXG4gICAgICAgIGxvb3A6IHRydWUsXHJcbiAgICAgICAgZnJlZU1vZGU6IHRydWUsXHJcbiAgICAgICAgc2xpZGVzUGVyVmlldzogXCJhdXRvXCIsXHJcbiAgICAgICAgY2VudGVyZWRTbGlkZXM6IHRydWUsXHJcbiAgICAgICAgc3BhY2VCZXR3ZWVuOiAwLFxyXG4gICAgICAgIGdyYWJDdXJzb3I6IHRydWUsXHJcbiAgICAgICAgLy9tb3VzZXdoZWVsOiB0cnVlLFxyXG4gICAgICAgIC8vbG9vcDogdHJ1ZSxcclxuICAgIH0pO1xyXG5cclxuICAgIHZhciBzd2lwZXIyID0gbmV3IFN3aXBlcihcIi5teXN3aXBlcjJcIiwge1xyXG4gICAgICAgIGF1dG9wbGF5OiB7XHJcbiAgICAgICAgICAgIGRlbGF5OiAyNTAwLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc3BlZWQ6IDEwMDAsXHJcbiAgICAgICAgbG9vcDogdHJ1ZSxcclxuICAgICAgICBmcmVlTW9kZTogdHJ1ZSxcclxuICAgICAgICBzbGlkZXNQZXJWaWV3OiBcImF1dG9cIixcclxuICAgICAgICBjZW50ZXJlZFNsaWRlczogdHJ1ZSxcclxuICAgICAgICBzcGFjZUJldHdlZW46IDAsXHJcbiAgICAgICAgZ3JhYkN1cnNvcjogdHJ1ZSxcclxuICAgICAgICAvL21vdXNld2hlZWw6IHRydWUsXHJcbiAgICAgICAgLy9sb29wOiB0cnVlLFxyXG4gICAgfSk7XHJcblxyXG5cclxuXHJcbiAgICAvL9Cf0YDQvtC60YDRg9GC0LrQsCDQtNC+INC80LXQvdGOXHJcblxyXG4gICAgZnVuY3Rpb24gdGhyb3R0bGUoZnVuYywgbXMpIHtcclxuXHJcbiAgICAgICAgbGV0IGlzVGhyb3R0bGVkID0gZmFsc2UsXHJcbiAgICAgICAgICAgIHNhdmVkQXJncyxcclxuICAgICAgICAgICAgc2F2ZWRUaGlzO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiB3cmFwcGVyKCkge1xyXG5cclxuICAgICAgICAgICAgaWYgKGlzVGhyb3R0bGVkKSB7IC8vICgyKVxyXG4gICAgICAgICAgICAgICAgc2F2ZWRBcmdzID0gYXJndW1lbnRzO1xyXG4gICAgICAgICAgICAgICAgc2F2ZWRUaGlzID0gdGhpcztcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyAvLyAoMSlcclxuXHJcbiAgICAgICAgICAgIGlzVGhyb3R0bGVkID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaXNUaHJvdHRsZWQgPSBmYWxzZTsgLy8gKDMpXHJcbiAgICAgICAgICAgICAgICBpZiAoc2F2ZWRBcmdzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd3JhcHBlci5hcHBseShzYXZlZFRoaXMsIHNhdmVkQXJncyk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2F2ZWRBcmdzID0gc2F2ZWRUaGlzID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgbXMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHdyYXBwZXI7XHJcbiAgICB9OyAvL9GN0YLQviDRhNGD0L3QutGG0LjRjyDQtNC70Y8g0YLQvtGA0LzQvtC20LXQvdC40Y8g0YHRgNCw0LHQsNGC0YvQstCw0L3QuNGPINGB0L7QsdGL0YLQuNGPIFwic2Nyb2xsXCJcclxuXHJcbiAgICAvL2xldCBmMTAwMCA9IHRocm90dGxlKHNjcm9sbEhhbmRsZXIsIDc1MCk7XHJcbiAgICAvL2xldCBmMjAwMCA9IHRocm90dGxlKGxldFN0aWNreSwgMTUwKTtcclxuICAgIC8v0Y3RgtC+INC/0L7QtNC60LvRjtGH0LXQvdC40LUg0YEg0LDRgNCz0YPQvNC10L3RgtCw0LzQuDog0YfRgtC+INC/0L7QtNGA0YPQsdCw0YLRjCDQuCDQstGA0LXQvNGPINCyINC80YFcclxuXHJcbiAgICAvL3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIGYxMDAwKTtcclxuICAgIC8vYm9keS5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIGYyMDAwKTtcclxuXHJcbiAgICBsZXQgbWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWVudVwiKTtcclxuXHJcbiAgICAvKiBmdW5jdGlvbiBzY3JvbGxIYW5kbGVyKCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGdldENvb3JkcyhtZW51KSB7XHJcbiAgICAgICAgICAgIGxldCBib3ggPSBtZW51LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gXHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICB0b3A6IGJveC50b3AgKyB3aW5kb3cuc2Nyb2xsWSAgLy/RgNCw0YHRgdGC0L7Rj9C90LjQtSDQvtGCINCy0LXRgNGF0LAg0Y3QutGA0LDQvdCwINC00L4g0LLQtdGA0YXQsCDRjdC7LdGC0LAgKyDQv9GA0L7QudC00LXQvdC90LDRjyDQv9GA0L7QutGA0YPRgtC60LAg0L7RgiDQstC10YDRhdCwINGB0YLRgNCw0L3QuNGG0YtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuIFxyXG4gICAgICAgIGxldCBjb29yZHMgPSBnZXRDb29yZHMobWVudSk7XHJcbiAgICAgICAgbGV0IHNjcmwgPSB3aW5kb3cuc2Nyb2xsWTtcclxuICAgICAgICAvL2xldCBzY3JsID0gZG9jdW1lbnQuYm9keS5zY3JvbGxUb3A7IC8v0L/RgNC+0LnQtNC10L3QvdCw0Y8g0L/RgNC+0LrRgNGD0YLQutCwINC+0YIg0LLQtdGA0YXQsCDRgdGC0YDQsNC90LjRhtGLXHJcbiAgICAgICAgbGV0IGNvdW50ZXIgPSAwO1xyXG4gXHJcbiBcclxuICAgICAgICAvLyB3aW5kb3cub253aGVlbCA9IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgLy8gICAgIC8vIGlmIChlLmRlbHRhWSA8IDApIHsgfTtcclxuICAgICAgICAvLyAgICAgaWYgKGUuZGVsdGFZID4gMCkge1xyXG4gICAgICAgIC8vICAgICAgICAgaWYgKHNjcmwgPj0gY29vcmRzLnRvcCAtIDkwMCkge1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIGxldCBHb1RvTWVudSA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oe1xyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgdG9wOiBjb29yZHMudG9wLFxyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgYmVoYXZpb3I6ICdzbW9vdGgnLFxyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgLy8gd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgZjEwMDApO1xyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAvLyBjbGVhclRpbWVvdXQoR29Ub01lbnUsIDEpO1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIH0sIDEpXHJcbiAgICAgICAgLy8gICAgICAgICB9XHJcbiAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAvLyB9XHJcbiBcclxuICAgICAgICAvLyB3aW5kb3cub253aGVlbCA9IGZ1bmN0aW9uIChlKSB7XHJcbiBcclxuICAgICAgICAvLyAgICAgaWYgKGUuZGVsdGFZIDwgMCkge1xyXG4gICAgICAgIC8vICAgICAgICAgY291bnRlcisrO1xyXG4gICAgICAgIC8vICAgICAgICAgaWYgKGNvdW50ZXIgPT0gMSkge1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXN0YXVyYW50Jykuc2Nyb2xsSW50b1ZpZXcoe1xyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICBibG9jazogJ3N0YXJ0JyxcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgYmVoYXZpb3I6ICdzbW9vdGgnXHJcbiAgICAgICAgLy8gICAgICAgICAgICAgfSlcclxuICAgICAgICAvLyAgICAgICAgICAgICAvLyB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCBmMTAwMCk7XHJcbiAgICAgICAgLy8gICAgICAgICB9O1xyXG4gICAgICAgIC8vICAgICAgICAgaWYgKGNvdW50ZXIgPT0gMikge1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc2Nyb2xsSW50b1ZpZXcoe1xyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICBibG9jazogJ3N0YXJ0JyxcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgYmVoYXZpb3I6ICdzbW9vdGgnXHJcbiAgICAgICAgLy8gICAgICAgICAgICAgfSlcclxuICAgICAgICAvLyAgICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCBmMTAwMCk7XHJcbiAgICAgICAgLy8gICAgICAgICB9O1xyXG4gICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgLy8gfVxyXG4gXHJcbiAgICAgICAgaWYgKHNjcmwgPj0gY29vcmRzLnRvcCAtIDkwMCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygneWVzJyk7XHJcbiAgICAgICAgICAgIHdpbmRvdy5zY3JvbGxUbyh7XHJcbiAgICAgICAgICAgICAgICB0b3A6IGNvb3Jkcy50b3AsXHJcbiAgICAgICAgICAgICAgICBiZWhhdmlvcjogJ3Ntb290aCcsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCBmMTAwMCk7XHJcbiAgICAgICAgICAgIHNjcmwgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIGNvb3Jkcy50b3AgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgfVxyXG4gXHJcbiBcclxuIFxyXG4gXHJcbiBcclxuIFxyXG4gICAgICAgIC8vIGxldCBzY3JvbGxNYXg7XHJcbiAgICAgICAgLy8gd2luZG93Lm9uc2Nyb2xsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vICAgICBzY3JvbGxNYXggPSA1MDtcclxuICAgICAgICAvLyAgICAgbGV0IHNjcmwgPSB3aW5kb3cuc2Nyb2xsWTtcclxuICAgICAgICAvLyAgICAgc2NybCA+IDUwID8gKHN0b3AgPSBzY3JvbGxNYXgpXHJcbiAgICAgICAgLy8gICAgICAgICA6ICgnJylcclxuICAgICAgICAvLyB9LCBoaXN0b3J5LnNjcm9sbFJlc3RvcmF0aW9uID0gXCJtYW51YWxcIjtcclxuICAgIH07ICovXHJcblxyXG4gICAgLy8gbGV0IG1lbnVTdGlja3kgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1lbnV1cFwiKTtcclxuICAgIC8vIGxldCBjb3VudGVyID0gMDtcclxuICAgIC8vIGZ1bmN0aW9uIGxldFN0aWNreSgpIHtcclxuICAgIC8qIGZ1bmN0aW9uIGdldENvb3JkcyhtZW51U3RpY2t5KSB7XHJcbiBcclxuICAgICAgICBsZXQgYm94ID0gbWVudVN0aWNreS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB0b3A6IGJveC50b3AgKyBib2R5LnNjcm9sbFRvcFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGxldCBjb29yZHMgPSBnZXRDb29yZHMobWVudVN0aWNreSk7XHJcbiAgICBsZXQgc2NybCA9IGJvZHkuc2Nyb2xsVG9wO1xyXG4gICAgY29uc29sZS5sb2coc2NybCArICcgLS1hbmQtLSAnICsgY29vcmRzLnRvcCk7XHJcbiBcclxuICAgIGlmIChjb3VudGVyID49IDEpIHtcclxuICAgICAgICBpZiAoc2NybCA8IDEzMDApIHtcclxuICAgICAgICAgICAgaWYgKG1lbnVTdGlja3kuY2xhc3NMaXN0LmNvbnRhaW5zKCdtZW51dXBfX3N0aWNreScpKSB7XHJcbiAgICAgICAgICAgICAgICBtZW51U3RpY2t5LmNsYXNzTGlzdC5yZW1vdmUoJ21lbnV1cF9fc3RpY2t5Jyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBhcnRpdGlvbicpLnN0eWxlLmhlaWdodCA9IDcuMiArICdyZW0nO1xyXG4gICAgICAgICAgICBjb3VudGVyID09IDA7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gXHJcbiAgICBpZiAoc2NybCA+PSBjb29yZHMudG9wIC0gMTY2KSB7XHJcbiAgICAgICAgY291bnRlcisrO1xyXG4gXHJcbiAgICAgICAgbWVudVN0aWNreS5jbGFzc0xpc3QuYWRkKCdtZW51dXBfX3N0aWNreScpO1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wYXJ0aXRpb24nKS5zdHlsZS5oZWlnaHQgPSAxNC42ICsgJ3JlbSc7XHJcbiBcclxuICAgIH0gKi9cclxuICAgIC8vIH1cclxuXHJcbiAgICAvLy8vL9Cw0L3QuNC80LDRhtC40Y8g0YPQutCw0LfQsNGC0LXQu9GPINC/0YDQvtC60YDRg9GC0LrQuFxyXG5cclxuICAgIGxldCBtb3VzZUFuaW0gPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgbW91c2Uuc3R5bGUub3BhY2l0eSA9IDE7XHJcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIG1vdXNlLmNsYXNzTGlzdC5hZGQoJ21vdXNlX19hY3RpdmUnKTtcclxuICAgICAgICB9LCA3NTApO1xyXG4gICAgICAgIG1vdXNlLmNsYXNzTGlzdC5yZW1vdmUoJ21vdXNlX19hY3RpdmUnKTtcclxuICAgIH0sIDE1MDApXHJcbn0pXHJcblxyXG4vLyBsZXQgbGV0QW5pbU1vdXNlID0gZnVuY3Rpb24gKCkge1xyXG4vLyAgICAgbW91c2UuY2xhc3NMaXN0LmFkZCgnbW91c2VfX2FjdGl2ZScpO1xyXG4vLyB9XHJcbi8vIGxldCBjbGVhckFuaW1Nb3VzZSA9IGZ1bmN0aW9uICgpIHtcclxuLy8gICAgIG1vdXNlLmNsYXNzTGlzdC5yZW1vdmUoJ21vdXNlX19hY3RpdmUnKTtcclxuLy8gfVxyXG4vLyBtb3VzZS5hZGRFdmVudExpc3RlbmVyKFwibW91c2VvdmVyXCIsIGxldEFuaW1Nb3VzZSk7XHJcbi8vIG1vdXNlLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW91dFwiLCBjbGVhckFuaW1Nb3VzZSk7XHJcblxyXG5cclxuXHJcbi8v0LzQtdC90Y4g0Lgg0LDQstGC0L7RgdC60YDQvtC70LsgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG5mdW5jdGlvbiByZXN0YXVyYW50Rm4oKSB7XHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucmVzdGF1cmFudF9fZHVtbXknKS5zY3JvbGxJbnRvVmlldyh7XHJcbiAgICAgICAgYmxvY2s6IFwic3RhcnRcIixcclxuICAgICAgICBiZWhhdmlvcjogJ3Ntb290aCdcclxuICAgIH0pXHJcbn1cclxuZnVuY3Rpb24gcmVzdGF1cmFudEZuMigpIHtcclxuICAgIGRvY3VtZW50LmxvY2F0aW9uLnJlcGxhY2UoJ2luZGV4Lmh0bWwnKTtcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5yZXN0YXVyYW50X19kdW1teScpLnNjcm9sbEludG9WaWV3KHtcclxuICAgICAgICBibG9jazogXCJzdGFydFwiLFxyXG4gICAgICAgIGJlaGF2aW9yOiAnc21vb3RoJ1xyXG4gICAgfSlcclxufVxyXG5cclxuZnVuY3Rpb24gbWVudUZuKCkge1xyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1lbnVfX2R1bW15Jykuc2Nyb2xsSW50b1ZpZXcoe1xyXG4gICAgICAgIGJsb2NrOiBcInN0YXJ0XCIsXHJcbiAgICAgICAgYmVoYXZpb3I6ICdzbW9vdGgnXHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gbWVudUZuMigpIHtcclxuICAgIGRvY3VtZW50LmxvY2F0aW9uLnJlcGxhY2UoJ2luZGV4Lmh0bWwnKTtcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tZW51X19kdW1teScpLnNjcm9sbEludG9WaWV3KHtcclxuICAgICAgICBibG9jazogXCJzdGFydFwiLFxyXG4gICAgICAgIGJlaGF2aW9yOiAnc21vb3RoJ1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNsYXNzZXNGbigpIHtcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jbGFzc2VzX19kdW1teScpLnNjcm9sbEludG9WaWV3KHtcclxuICAgICAgICBibG9jazogXCJzdGFydFwiLFxyXG4gICAgICAgIGJlaGF2aW9yOiAnc21vb3RoJ1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG1lbnV1cDAxRm4oKSB7XHJcblxyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0YXJ0ZXJzJykuc2Nyb2xsSW50b1ZpZXcoe1xyXG4gICAgICAgIGJsb2NrOiBcInN0YXJ0XCIsXHJcbiAgICAgICAgYmVoYXZpb3I6ICdzbW9vdGgnXHJcbiAgICB9KVxyXG59XHJcblxyXG5mdW5jdGlvbiBtZW51dXAwMkZuKCkge1xyXG5cclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdicmVha2Zhc3QnKS5zY3JvbGxJbnRvVmlldyh7XHJcbiAgICAgICAgYmxvY2s6IFwic3RhcnRcIixcclxuICAgICAgICBiZWhhdmlvcjogJ3Ntb290aCdcclxuICAgIH0pXHJcbn1cclxuXHJcbmZ1bmN0aW9uIG1lbnV1cDAzRm4oKSB7XHJcblxyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpbm5lcicpLnNjcm9sbEludG9WaWV3KHtcclxuICAgICAgICBibG9jazogXCJzdGFydFwiLFxyXG4gICAgICAgIGJlaGF2aW9yOiAnc21vb3RoJ1xyXG4gICAgfSlcclxufVxyXG5cclxuZnVuY3Rpb24gbWVudXVwMDRGbigpIHtcclxuXHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZHJpbmtzJykuc2Nyb2xsSW50b1ZpZXcoe1xyXG4gICAgICAgIGJsb2NrOiBcInN0YXJ0XCIsXHJcbiAgICAgICAgYmVoYXZpb3I6ICdzbW9vdGgnXHJcbiAgICB9KVxyXG59XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG4iXX0=