"use strict";function restaurantFn(){document.querySelector(".restaurant__dummy").scrollIntoView({block:"start",behavior:"smooth"})}function menuFn(){document.querySelector(".menu__dummy").scrollIntoView({block:"start",behavior:"smooth"})}function classesFn(){document.querySelector(".classes__dummy").scrollIntoView({block:"start",behavior:"smooth"})}function menuup01Fn(){document.getElementById("starters").scrollIntoView({block:"start",behavior:"smooth"})}function menuup02Fn(){document.getElementById("breakfast").scrollIntoView({block:"start",behavior:"smooth"})}function menuup03Fn(){document.getElementById("dinner").scrollIntoView({block:"start",behavior:"smooth"})}function menuup04Fn(){document.getElementById("drinks").scrollIntoView({block:"start",behavior:"smooth"})}window.addEventListener("DOMContentLoaded",function(){document.querySelector("body");var y=document.querySelector(".mouse"),p=0;onwheel=function(e){window.onscroll=function(e){var t=window.scrollY,o=document.querySelector(".restaurant__dummy"),n=document.getElementById("restaurant-span"),s=document.querySelector(".menu__dummy"),r=document.getElementById("dinner"),u=document.getElementById("drinks"),l=o.getBoundingClientRect().top,c=n.getBoundingClientRect().bottom,d=s.getBoundingClientRect().top,m=r.getBoundingClientRect().bottom,i=u.getBoundingClientRect().bottom;if(p<t){var a=document.getElementById("downmenu");a.classList.remove("hide"),a.classList.add("show"),y.style.opacity=0,clearInterval(g,1500),c<=0&&document.querySelector(".logo").classList.add("logo__onleft"),l<=0&&(document.querySelector(".menu__img").style.display="block"),d<=0&&(document.querySelector(".menuup").classList.add("menuup__sticky"),document.querySelector(".menu__wrapper").style.paddingTop="8.4rem",document.getElementById("menu").classList.add("title-fixed")),m<=0&&(document.getElementById("menu").classList.remove("title-fixed"),document.getElementById("menu").style.top="249rem"),i<=0&&(document.querySelector(".menuup").classList.remove("menuup__sticky"),document.querySelector(".menu__wrapper").style.paddingTop=0,document.querySelector(".logo").classList.remove("logo__onleft"))}else t<p&&(0<=i&&(document.querySelector(".menuup").classList.add("menuup__sticky"),document.querySelector(".menu__wrapper").style.paddingTop="8.4rem",document.querySelector(".logo").classList.add("logo__onleft")),0<=m&&(document.getElementById("menu").classList.add("title-fixed"),document.getElementById("menu").style.top="37rem"),0<=d&&(document.querySelector(".menuup").classList.remove("menuup__sticky"),document.querySelector(".menu__wrapper").style.paddingTop=0,document.getElementById("menu").classList.remove("title-fixed")),0<=l&&(document.querySelector(".menu__img").style.display="none"),0<=c&&document.querySelector(".logo").classList.remove("logo__onleft"));p=t<=0?0:t}()},scroll=function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(e){onwheel(e),window.removeEventListener("scroll",scroll)}),window.addEventListener("scroll",scroll,!0);var e=document.getElementById("clocks"),t=e.childNodes,o=e||t;o.addEventListener("mouseover",function(){var e=document.getElementById("times");e.classList.remove("hidden"),e.classList.add("active")}),o.addEventListener("mouseout",function(){var e=document.getElementById("times");e.classList.remove("active"),e.classList.add("hidden")});new Swiper(".myswiper",{autoplay:{delay:2500},speed:1e3,loop:!0,freeMode:!0,slidesPerView:"auto",centeredSlides:!0,spaceBetween:0,grabCursor:!0}),new Swiper(".myswiper2",{autoplay:{delay:2500},speed:1e3,loop:!0,freeMode:!0,slidesPerView:"auto",centeredSlides:!0,spaceBetween:0,grabCursor:!0});document.querySelector(".menu");var g=setInterval(function(){y.style.opacity=1,setTimeout(function(){y.classList.add("mouse__active")},750),y.classList.remove("mouse__active")},1500)});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsicmVzdGF1cmFudEZuIiwiZG9jdW1lbnQiLCJtZW51dXAwNEZuIiwic2Nyb2xsSW50b1ZpZXciLCJnZXRFbGVtZW50QnlJZCIsImJsb2NrIiwibWVudUZuIiwicXVlcnlTZWxlY3RvciIsImJlaGF2aW9yIiwiY2xhc3Nlc0ZuIiwibWVudXVwMDFGbiIsIm1lbnV1cDAyRm4iLCJtZW51dXAwM0ZuIiwid2luZG93IiwiYm9keSIsIm1vdXNlIiwib25TY3JvbGwiLCJvbndoZWVsIiwiZSIsInJlc3RhdXJhbnQiLCJkcmlua3MiLCJ0b3AiLCJzdGF0aW9uMDEiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJzdGF0aW9uMDFvdXQiLCJyZXN0YXVyYW50U3BhbiIsInN0YXRpb24wMiIsIm1lbnUiLCJzdGF0aW9uMDJvdXQyIiwibGFzdFNjcm9sbFRvcCIsImJvdHRvbSIsImRvd25NZW51Iiwic3RhdGlvbjAyb3V0IiwiZGlubmVyIiwic3R5bGUiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJhZGQiLCJjbGVhckludGVydmFsIiwibW91c2VBbmltIiwicGFkZGluZ1RvcCIsImRpc3BsYXkiLCJfeCIsInNjcm9sbCIsIl9zY3JvbGwiLCJhcHBseSIsInRoaXMiLCJhcmd1bWVudHMiLCJ0b1N0cmluZyIsImFkZEV2ZW50TGlzdGVuZXIiLCJ0aW1lc0ljb24iLCJyZW1vdmVFdmVudExpc3RlbmVyIiwic2hvd1RpbWVzIiwidGltZXMiLCJ0aW1lc0ljb24yIiwiY2hpbGROb2RlcyIsInRpbWVzSWNvbnMiLCJsb29wIiwic3dpcGVyIiwiU3dpcGVyIiwiYXV0b3BsYXkiLCJkZWxheSIsInN3aXBlcjIiLCJzcGVlZCIsInNsaWRlc1BlclZpZXciLCJmcmVlTW9kZSIsImNlbnRlcmVkU2xpZGVzIiwidGhyb3R0bGUiLCJpc1Rocm90dGxlZCIsInNhdmVkQXJncyIsInNhdmVkVGhpcyIsInNwYWNlQmV0d2VlbiIsImdyYWJDdXJzb3IiLCJvcGFj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SUFnRC9CdkUsU0FBQU0sY0FBQSxTQUFBLElBb0lJTixFQUFTTSxZQUFjLFdBQ25CRixFQUFPNkIsTUFBT3VDLFFBQUEsRUFDZGpFLFdBQVUsV0FDWk8sRUFBQW9CLFVBQUFFLElBQUEsa0JBQ04sS0FFQXRCLEVBQVNMLFVBQWEwQixPQUFBLGtCQUVsQm5DIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuXHJcbi8qIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xyXG4gXHJcbiAgICBmdW5jdGlvbiB0aHJvdHRsZShmdW5jLCBtcykge1xyXG4gXHJcbiAgICAgICAgbGV0IGlzVGhyb3R0bGVkID0gZmFsc2UsXHJcbiAgICAgICAgICAgIHNhdmVkQXJncyxcclxuICAgICAgICAgICAgc2F2ZWRUaGlzO1xyXG4gXHJcbiAgICAgICAgZnVuY3Rpb24gd3JhcHBlcigpIHtcclxuIFxyXG4gICAgICAgICAgICBpZiAoaXNUaHJvdHRsZWQpIHsgLy8gKDIpXHJcbiAgICAgICAgICAgICAgICBzYXZlZEFyZ3MgPSBhcmd1bWVudHM7XHJcbiAgICAgICAgICAgICAgICBzYXZlZFRoaXMgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiBcclxuICAgICAgICAgICAgZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyAvLyAoMSlcclxuIFxyXG4gICAgICAgICAgICBpc1Rocm90dGxlZCA9IHRydWU7XHJcbiBcclxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpc1Rocm90dGxlZCA9IGZhbHNlOyAvLyAoMylcclxuICAgICAgICAgICAgICAgIGlmIChzYXZlZEFyZ3MpIHtcclxuICAgICAgICAgICAgICAgICAgICB3cmFwcGVyLmFwcGx5KHNhdmVkVGhpcywgc2F2ZWRBcmdzKTtcclxuICAgICAgICAgICAgICAgICAgICBzYXZlZEFyZ3MgPSBzYXZlZFRoaXMgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCBtcyk7XHJcbiAgICAgICAgfVxyXG4gXHJcbiAgICAgICAgcmV0dXJuIHdyYXBwZXI7XHJcbiAgICB9OyAvL9GN0YLQviDRhNGD0L3QutGG0LjRjyDQtNC70Y8g0YLQvtGA0LzQvtC20LXQvdC40Y8g0YHRgNCw0LHQsNGC0YvQstCw0L3QuNGPINGB0L7QsdGL0YLQuNGPIFwic2Nyb2xsXCJcclxuIFxyXG4gICAgY29uc3QgZjEwMDAgPSB0aHJvdHRsZShzY3JvbGxIYW5kbGVyLCA1MCk7XHJcbiAgICAvL9GN0YLQviDQv9C+0LTQutC70Y7Rh9C10L3QuNC1INGBINCw0YDQs9GD0LzQtdC90YLQsNC80Lg6INGH0YLQviDQv9C+0LTRgNGD0LHQsNGC0Ywg0Lgg0LLRgNC10LzRjyDQsiDQvNGBXHJcbiBcclxuICAgIGZ1bmN0aW9uIHNjcm9sbEhhbmRsZXIoKSB7XHJcbiBcclxuICAgICAgICBsZXQgZG93bk1lbnUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRvd25tZW51XCIpO1xyXG4gXHJcbiAgICAgICAgZnVuY3Rpb24gZ2V0Q29vcmRzKGRvd25NZW51KSB7XHJcbiAgICAgICAgICAgIGxldCBib3ggPSBkb3duTWVudS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHRvcDogYm94LnRvcCAtIHdpbmRvdy5zY3JvbGxZXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGNvb3JkcyA9IGdldENvb3Jkcyhkb3duTWVudSk7XHJcbiBcclxuICAgICAgICBsZXQgc2NybCA9IHdpbmRvdy5zY3JvbGxZIHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A7XHJcbiBcclxuICAgICAgICBpZiAoc2NybCA+PSBjb29yZHMudG9wIC0gNDUwKSB7XHJcbiBcclxuICAgICAgICAgICAgZG93bk1lbnUuY2xhc3NMaXN0LnJlbW92ZShcIm5hdmFic29sdXRlXCIpO1xyXG4gICAgICAgICAgICBkb3duTWVudS5jbGFzc0xpc3QuYWRkKFwibmF2Zml4ZWRcIik7XHJcbiBcclxuICAgICAgICAgICAgLy8gd2luZG93LnNjcm9sbFRvKHtcclxuIFxyXG4gICAgICAgICAgICAvLyAgICAgdG9wOiBjb29yZHMudG9wIC0gOTAsXHJcbiAgICAgICAgICAgIC8vICAgICBiZWhhdmlvcjogJ2F1dG8nLFxyXG4gICAgICAgICAgICAvLyB9KVxyXG4gXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuIFxyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgZjEwMDApO1xyXG59KSAqL1xyXG5cclxuXHJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xyXG5cclxuICAgIGxldCBib2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImJvZHlcIik7XHJcbiAgICBsZXQgbW91c2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vdXNlXCIpO1xyXG4gICAgLy9sZXQgb25lU2Nyb2xsID0gMDtcclxuXHJcbiAgICAvKiBsZXQgZG93biA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gKytvbmVTY3JvbGw7XHJcbiAgICB9ICovXHJcblxyXG4gICAgbGV0IGxhc3RTY3JvbGxUb3AgPSAwO1xyXG5cclxuICAgIG9ud2hlZWwgPSBmdW5jdGlvbiAoZSkge1xyXG5cclxuICAgICAgICB3aW5kb3cub25zY3JvbGwgPSBvblNjcm9sbChlKTtcclxuICAgICAgICBmdW5jdGlvbiBvblNjcm9sbChlKSB7XHJcblxyXG4gICAgICAgICAgICAvL2xldCB0b3AgPSBlLnRhcmdldC5zY3JvbGxUb3A7XHJcbiAgICAgICAgICAgIGxldCB0b3AgPSB3aW5kb3cuc2Nyb2xsWTtcclxuICAgICAgICAgICAgbGV0IHJlc3RhdXJhbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnJlc3RhdXJhbnRfX2R1bW15XCIpO1xyXG4gICAgICAgICAgICBsZXQgcmVzdGF1cmFudFNwYW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJlc3RhdXJhbnQtc3BhblwiKTtcclxuICAgICAgICAgICAgbGV0IG1lbnUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1lbnVfX2R1bW15XCIpO1xyXG4gICAgICAgICAgICBsZXQgZGlubmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkaW5uZXJcIik7XHJcbiAgICAgICAgICAgIGxldCBkcmlua3MgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRyaW5rc1wiKTtcclxuICAgICAgICAgICAgLy8gbGV0IGNsYXNzZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNsYXNzZXNfX2R1bW15XCIpO1xyXG4gICAgICAgICAgICBsZXQgc3RhdGlvbjAxID0gcmVzdGF1cmFudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A7XHJcbiAgICAgICAgICAgIGxldCBzdGF0aW9uMDFvdXQgPSByZXN0YXVyYW50U3Bhbi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5ib3R0b207XHJcbiAgICAgICAgICAgIGxldCBzdGF0aW9uMDIgPSBtZW51LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDtcclxuICAgICAgICAgICAgLy8gbGV0IHN0YXRpb24wMyA9IGNsYXNzZXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xyXG4gICAgICAgICAgICBsZXQgc3RhdGlvbjAyb3V0ID0gZGlubmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmJvdHRvbTtcclxuICAgICAgICAgICAgbGV0IHN0YXRpb24wMm91dDIgPSBkcmlua3MuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuYm90dG9tO1xyXG5cclxuICAgICAgICAgICAgaWYgKGxhc3RTY3JvbGxUb3AgPCB0b3ApIHtcclxuICAgICAgICAgICAgICAgIGxldCBkb3duTWVudSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZG93bm1lbnVcIik7XHJcbiAgICAgICAgICAgICAgICBkb3duTWVudS5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZVwiKTtcclxuICAgICAgICAgICAgICAgIGRvd25NZW51LmNsYXNzTGlzdC5hZGQoXCJzaG93XCIpO1xyXG4gICAgICAgICAgICAgICAgbW91c2Uuc3R5bGUub3BhY2l0eSA9IDA7XHJcbiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKG1vdXNlQW5pbSwgMTUwMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHN0YXRpb24wMW91dCA8PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5sb2dvXCIpLmNsYXNzTGlzdC5hZGQoXCJsb2dvX19vbmxlZnRcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoc3RhdGlvbjAxIDw9IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1lbnVfX2ltZ1wiKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHN0YXRpb24wMiA8PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tZW51dXBcIikuY2xhc3NMaXN0LmFkZChcIm1lbnV1cF9fc3RpY2t5XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWVudV9fd3JhcHBlclwiKS5zdHlsZS5wYWRkaW5nVG9wID0gOC40ICsgJ3JlbSc7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtZW51XCIpLmNsYXNzTGlzdC5hZGQoXCJ0aXRsZS1maXhlZFwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChzdGF0aW9uMDJvdXQgPD0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWVudVwiKS5jbGFzc0xpc3QucmVtb3ZlKFwidGl0bGUtZml4ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtZW51XCIpLnN0eWxlLnRvcCA9IDI0OSArIFwicmVtXCI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoc3RhdGlvbjAyb3V0MiA8PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tZW51dXBcIikuY2xhc3NMaXN0LnJlbW92ZShcIm1lbnV1cF9fc3RpY2t5XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWVudV9fd3JhcHBlclwiKS5zdHlsZS5wYWRkaW5nVG9wID0gMDtcclxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmxvZ29cIikuY2xhc3NMaXN0LnJlbW92ZShcImxvZ29fX29ubGVmdFwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobGFzdFNjcm9sbFRvcCA+IHRvcCkge1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChzdGF0aW9uMDJvdXQyID49IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1lbnV1cFwiKS5jbGFzc0xpc3QuYWRkKFwibWVudXVwX19zdGlja3lcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tZW51X193cmFwcGVyXCIpLnN0eWxlLnBhZGRpbmdUb3AgPSA4LjQgKyAncmVtJztcclxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmxvZ29cIikuY2xhc3NMaXN0LmFkZChcImxvZ29fX29ubGVmdFwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChzdGF0aW9uMDJvdXQgPj0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWVudVwiKS5jbGFzc0xpc3QuYWRkKFwidGl0bGUtZml4ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtZW51XCIpLnN0eWxlLnRvcCA9IDM3ICsgXCJyZW1cIjtcclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoc3RhdGlvbjAyID49IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1lbnV1cFwiKS5jbGFzc0xpc3QucmVtb3ZlKFwibWVudXVwX19zdGlja3lcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tZW51X193cmFwcGVyXCIpLnN0eWxlLnBhZGRpbmdUb3AgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWVudVwiKS5jbGFzc0xpc3QucmVtb3ZlKFwidGl0bGUtZml4ZWRcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoc3RhdGlvbjAxID49IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1lbnVfX2ltZ1wiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoc3RhdGlvbjAxb3V0ID49IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmxvZ29cIikuY2xhc3NMaXN0LnJlbW92ZShcImxvZ29fX29ubGVmdFwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsYXN0U2Nyb2xsVG9wID0gdG9wIDw9IDAgPyAwIDogdG9wO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzY3JvbGwgPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIG9ud2hlZWwoZSk7XHJcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgc2Nyb2xsKTtcclxuICAgIH1cclxuXHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCBzY3JvbGwsIHRydWUpO1xyXG5cclxuXHJcbiAgICBsZXQgdGltZXNJY29uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjbG9ja3NcIik7XHJcbiAgICBsZXQgdGltZXNJY29uMiA9IHRpbWVzSWNvbi5jaGlsZE5vZGVzO1xyXG4gICAgbGV0IHRpbWVzSWNvbnMgPSB0aW1lc0ljb24gfHwgdGltZXNJY29uMjtcclxuXHJcbiAgICBmdW5jdGlvbiBzaG93VGltZXMoKSB7XHJcbiAgICAgICAgbGV0IHRpbWVzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0aW1lc1wiKTtcclxuICAgICAgICB0aW1lcy5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpO1xyXG4gICAgICAgIHRpbWVzLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIik7XHJcbiAgICB9XHJcblxyXG4gICAgdGltZXNJY29ucy5hZGRFdmVudExpc3RlbmVyKFwibW91c2VvdmVyXCIgfHwgXCJjbGlja1wiLCBzaG93VGltZXMpO1xyXG5cclxuICAgIGZ1bmN0aW9uIHF1aXRUaW1lcygpIHtcclxuICAgICAgICBsZXQgdGltZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRpbWVzXCIpO1xyXG4gICAgICAgIHRpbWVzLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgdGltZXMuY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcclxuICAgIH1cclxuXHJcbiAgICB0aW1lc0ljb25zLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW91dFwiIHx8IFwiY2xpY2tcIiwgcXVpdFRpbWVzKTtcclxuICAgIC8vdGltZXNJY29ucy5hZGRFdmVudExpc3RlbmVyKFwibW91c2VvdXRcIiB8fCBcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHsgc2V0VGltZW91dChxdWl0VGltZXMsIDUwMCkgfSk7XHJcblxyXG5cclxuXHJcbiAgICAvL3N3aXBlciAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcblxyXG4gICAgdmFyIHN3aXBlciA9IG5ldyBTd2lwZXIoXCIubXlzd2lwZXJcIiwge1xyXG4gICAgICAgIGF1dG9wbGF5OiB7XHJcbiAgICAgICAgICAgIGRlbGF5OiAyNTAwLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc3BlZWQ6IDEwMDAsXHJcbiAgICAgICAgbG9vcDogdHJ1ZSxcclxuICAgICAgICBmcmVlTW9kZTogdHJ1ZSxcclxuICAgICAgICBzbGlkZXNQZXJWaWV3OiBcImF1dG9cIixcclxuICAgICAgICBjZW50ZXJlZFNsaWRlczogdHJ1ZSxcclxuICAgICAgICBzcGFjZUJldHdlZW46IDAsXHJcbiAgICAgICAgZ3JhYkN1cnNvcjogdHJ1ZSxcclxuICAgICAgICAvL21vdXNld2hlZWw6IHRydWUsXHJcbiAgICAgICAgLy9sb29wOiB0cnVlLFxyXG4gICAgfSk7XHJcblxyXG4gICAgdmFyIHN3aXBlcjIgPSBuZXcgU3dpcGVyKFwiLm15c3dpcGVyMlwiLCB7XHJcbiAgICAgICAgYXV0b3BsYXk6IHtcclxuICAgICAgICAgICAgZGVsYXk6IDI1MDAsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBzcGVlZDogMTAwMCxcclxuICAgICAgICBsb29wOiB0cnVlLFxyXG4gICAgICAgIGZyZWVNb2RlOiB0cnVlLFxyXG4gICAgICAgIHNsaWRlc1BlclZpZXc6IFwiYXV0b1wiLFxyXG4gICAgICAgIGNlbnRlcmVkU2xpZGVzOiB0cnVlLFxyXG4gICAgICAgIHNwYWNlQmV0d2VlbjogMCxcclxuICAgICAgICBncmFiQ3Vyc29yOiB0cnVlLFxyXG4gICAgICAgIC8vbW91c2V3aGVlbDogdHJ1ZSxcclxuICAgICAgICAvL2xvb3A6IHRydWUsXHJcbiAgICB9KTtcclxuXHJcblxyXG5cclxuICAgIC8v0J/RgNC+0LrRgNGD0YLQutCwINC00L4g0LzQtdC90Y5cclxuXHJcbiAgICBmdW5jdGlvbiB0aHJvdHRsZShmdW5jLCBtcykge1xyXG5cclxuICAgICAgICBsZXQgaXNUaHJvdHRsZWQgPSBmYWxzZSxcclxuICAgICAgICAgICAgc2F2ZWRBcmdzLFxyXG4gICAgICAgICAgICBzYXZlZFRoaXM7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHdyYXBwZXIoKSB7XHJcblxyXG4gICAgICAgICAgICBpZiAoaXNUaHJvdHRsZWQpIHsgLy8gKDIpXHJcbiAgICAgICAgICAgICAgICBzYXZlZEFyZ3MgPSBhcmd1bWVudHM7XHJcbiAgICAgICAgICAgICAgICBzYXZlZFRoaXMgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IC8vICgxKVxyXG5cclxuICAgICAgICAgICAgaXNUaHJvdHRsZWQgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpc1Rocm90dGxlZCA9IGZhbHNlOyAvLyAoMylcclxuICAgICAgICAgICAgICAgIGlmIChzYXZlZEFyZ3MpIHtcclxuICAgICAgICAgICAgICAgICAgICB3cmFwcGVyLmFwcGx5KHNhdmVkVGhpcywgc2F2ZWRBcmdzKTtcclxuICAgICAgICAgICAgICAgICAgICBzYXZlZEFyZ3MgPSBzYXZlZFRoaXMgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCBtcyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gd3JhcHBlcjtcclxuICAgIH07IC8v0Y3RgtC+INGE0YPQvdC60YbQuNGPINC00LvRjyDRgtC+0YDQvNC+0LbQtdC90LjRjyDRgdGA0LDQsdCw0YLRi9Cy0LDQvdC40Y8g0YHQvtCx0YvRgtC40Y8gXCJzY3JvbGxcIlxyXG5cclxuICAgIC8vbGV0IGYxMDAwID0gdGhyb3R0bGUoc2Nyb2xsSGFuZGxlciwgNzUwKTtcclxuICAgIC8vbGV0IGYyMDAwID0gdGhyb3R0bGUobGV0U3RpY2t5LCAxNTApO1xyXG4gICAgLy/RjdGC0L4g0L/QvtC00LrQu9GO0YfQtdC90LjQtSDRgSDQsNGA0LPRg9C80LXQvdGC0LDQvNC4OiDRh9GC0L4g0L/QvtC00YDRg9Cx0LDRgtGMINC4INCy0YDQtdC80Y8g0LIg0LzRgVxyXG5cclxuICAgIC8vd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgZjEwMDApO1xyXG4gICAgLy9ib2R5LmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgZjIwMDApO1xyXG5cclxuICAgIGxldCBtZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tZW51XCIpO1xyXG5cclxuICAgIC8qIGZ1bmN0aW9uIHNjcm9sbEhhbmRsZXIoKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gZ2V0Q29vcmRzKG1lbnUpIHtcclxuICAgICAgICAgICAgbGV0IGJveCA9IG1lbnUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiBcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHRvcDogYm94LnRvcCArIHdpbmRvdy5zY3JvbGxZICAvL9GA0LDRgdGB0YLQvtGP0L3QuNC1INC+0YIg0LLQtdGA0YXQsCDRjdC60YDQsNC90LAg0LTQviDQstC10YDRhdCwINGN0Lst0YLQsCArINC/0YDQvtC50LTQtdC90L3QsNGPINC/0YDQvtC60YDRg9GC0LrQsCDQvtGCINCy0LXRgNGF0LAg0YHRgtGA0LDQvdC40YbRi1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gXHJcbiAgICAgICAgbGV0IGNvb3JkcyA9IGdldENvb3JkcyhtZW51KTtcclxuICAgICAgICBsZXQgc2NybCA9IHdpbmRvdy5zY3JvbGxZO1xyXG4gICAgICAgIC8vbGV0IHNjcmwgPSBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcDsgLy/Qv9GA0L7QudC00LXQvdC90LDRjyDQv9GA0L7QutGA0YPRgtC60LAg0L7RgiDQstC10YDRhdCwINGB0YLRgNCw0L3QuNGG0YtcclxuICAgICAgICBsZXQgY291bnRlciA9IDA7XHJcbiBcclxuIFxyXG4gICAgICAgIC8vIHdpbmRvdy5vbndoZWVsID0gZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAvLyAgICAgLy8gaWYgKGUuZGVsdGFZIDwgMCkgeyB9O1xyXG4gICAgICAgIC8vICAgICBpZiAoZS5kZWx0YVkgPiAwKSB7XHJcbiAgICAgICAgLy8gICAgICAgICBpZiAoc2NybCA+PSBjb29yZHMudG9wIC0gOTAwKSB7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgbGV0IEdvVG9NZW51ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgIHdpbmRvdy5zY3JvbGxUbyh7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICB0b3A6IGNvb3Jkcy50b3AsXHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBiZWhhdmlvcjogJ3Ntb290aCcsXHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAvLyB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCBmMTAwMCk7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgIC8vIGNsZWFyVGltZW91dChHb1RvTWVudSwgMSk7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgfSwgMSlcclxuICAgICAgICAvLyAgICAgICAgIH1cclxuICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgIC8vIH1cclxuIFxyXG4gICAgICAgIC8vIHdpbmRvdy5vbndoZWVsID0gZnVuY3Rpb24gKGUpIHtcclxuIFxyXG4gICAgICAgIC8vICAgICBpZiAoZS5kZWx0YVkgPCAwKSB7XHJcbiAgICAgICAgLy8gICAgICAgICBjb3VudGVyKys7XHJcbiAgICAgICAgLy8gICAgICAgICBpZiAoY291bnRlciA9PSAxKSB7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jlc3RhdXJhbnQnKS5zY3JvbGxJbnRvVmlldyh7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgIGJsb2NrOiAnc3RhcnQnLFxyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICBiZWhhdmlvcjogJ3Ntb290aCdcclxuICAgICAgICAvLyAgICAgICAgICAgICB9KVxyXG4gICAgICAgIC8vICAgICAgICAgICAgIC8vIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIGYxMDAwKTtcclxuICAgICAgICAvLyAgICAgICAgIH07XHJcbiAgICAgICAgLy8gICAgICAgICBpZiAoY291bnRlciA9PSAyKSB7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zY3JvbGxJbnRvVmlldyh7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgIGJsb2NrOiAnc3RhcnQnLFxyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICBiZWhhdmlvcjogJ3Ntb290aCdcclxuICAgICAgICAvLyAgICAgICAgICAgICB9KVxyXG4gICAgICAgIC8vICAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIGYxMDAwKTtcclxuICAgICAgICAvLyAgICAgICAgIH07XHJcbiAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAvLyB9XHJcbiBcclxuICAgICAgICBpZiAoc2NybCA+PSBjb29yZHMudG9wIC0gOTAwKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCd5ZXMnKTtcclxuICAgICAgICAgICAgd2luZG93LnNjcm9sbFRvKHtcclxuICAgICAgICAgICAgICAgIHRvcDogY29vcmRzLnRvcCxcclxuICAgICAgICAgICAgICAgIGJlaGF2aW9yOiAnc21vb3RoJyxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIGYxMDAwKTtcclxuICAgICAgICAgICAgc2NybCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgY29vcmRzLnRvcCA9IHVuZGVmaW5lZDtcclxuICAgICAgICB9XHJcbiBcclxuIFxyXG4gXHJcbiBcclxuIFxyXG4gXHJcbiAgICAgICAgLy8gbGV0IHNjcm9sbE1heDtcclxuICAgICAgICAvLyB3aW5kb3cub25zY3JvbGwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gICAgIHNjcm9sbE1heCA9IDUwO1xyXG4gICAgICAgIC8vICAgICBsZXQgc2NybCA9IHdpbmRvdy5zY3JvbGxZO1xyXG4gICAgICAgIC8vICAgICBzY3JsID4gNTAgPyAoc3RvcCA9IHNjcm9sbE1heClcclxuICAgICAgICAvLyAgICAgICAgIDogKCcnKVxyXG4gICAgICAgIC8vIH0sIGhpc3Rvcnkuc2Nyb2xsUmVzdG9yYXRpb24gPSBcIm1hbnVhbFwiO1xyXG4gICAgfTsgKi9cclxuXHJcbiAgICAvLyBsZXQgbWVudVN0aWNreSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWVudXVwXCIpO1xyXG4gICAgLy8gbGV0IGNvdW50ZXIgPSAwO1xyXG4gICAgLy8gZnVuY3Rpb24gbGV0U3RpY2t5KCkge1xyXG4gICAgLyogZnVuY3Rpb24gZ2V0Q29vcmRzKG1lbnVTdGlja3kpIHtcclxuIFxyXG4gICAgICAgIGxldCBib3ggPSBtZW51U3RpY2t5LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHRvcDogYm94LnRvcCArIGJvZHkuc2Nyb2xsVG9wXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgbGV0IGNvb3JkcyA9IGdldENvb3JkcyhtZW51U3RpY2t5KTtcclxuICAgIGxldCBzY3JsID0gYm9keS5zY3JvbGxUb3A7XHJcbiAgICBjb25zb2xlLmxvZyhzY3JsICsgJyAtLWFuZC0tICcgKyBjb29yZHMudG9wKTtcclxuIFxyXG4gICAgaWYgKGNvdW50ZXIgPj0gMSkge1xyXG4gICAgICAgIGlmIChzY3JsIDwgMTMwMCkge1xyXG4gICAgICAgICAgICBpZiAobWVudVN0aWNreS5jbGFzc0xpc3QuY29udGFpbnMoJ21lbnV1cF9fc3RpY2t5JykpIHtcclxuICAgICAgICAgICAgICAgIG1lbnVTdGlja3kuY2xhc3NMaXN0LnJlbW92ZSgnbWVudXVwX19zdGlja3knKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGFydGl0aW9uJykuc3R5bGUuaGVpZ2h0ID0gNy4yICsgJ3JlbSc7XHJcbiAgICAgICAgICAgIGNvdW50ZXIgPT0gMDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiBcclxuICAgIGlmIChzY3JsID49IGNvb3Jkcy50b3AgLSAxNjYpIHtcclxuICAgICAgICBjb3VudGVyKys7XHJcbiBcclxuICAgICAgICBtZW51U3RpY2t5LmNsYXNzTGlzdC5hZGQoJ21lbnV1cF9fc3RpY2t5Jyk7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBhcnRpdGlvbicpLnN0eWxlLmhlaWdodCA9IDE0LjYgKyAncmVtJztcclxuIFxyXG4gICAgfSAqL1xyXG4gICAgLy8gfVxyXG5cclxuICAgIC8vLy8v0LDQvdC40LzQsNGG0LjRjyDRg9C60LDQt9Cw0YLQtdC70Y8g0L/RgNC+0LrRgNGD0YLQutC4XHJcblxyXG4gICAgbGV0IG1vdXNlQW5pbSA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBtb3VzZS5zdHlsZS5vcGFjaXR5ID0gMTtcclxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgbW91c2UuY2xhc3NMaXN0LmFkZCgnbW91c2VfX2FjdGl2ZScpO1xyXG4gICAgICAgIH0sIDc1MCk7XHJcbiAgICAgICAgbW91c2UuY2xhc3NMaXN0LnJlbW92ZSgnbW91c2VfX2FjdGl2ZScpO1xyXG4gICAgfSwgMTUwMClcclxufSlcclxuXHJcbi8vIGxldCBsZXRBbmltTW91c2UgPSBmdW5jdGlvbiAoKSB7XHJcbi8vICAgICBtb3VzZS5jbGFzc0xpc3QuYWRkKCdtb3VzZV9fYWN0aXZlJyk7XHJcbi8vIH1cclxuLy8gbGV0IGNsZWFyQW5pbU1vdXNlID0gZnVuY3Rpb24gKCkge1xyXG4vLyAgICAgbW91c2UuY2xhc3NMaXN0LnJlbW92ZSgnbW91c2VfX2FjdGl2ZScpO1xyXG4vLyB9XHJcbi8vIG1vdXNlLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW92ZXJcIiwgbGV0QW5pbU1vdXNlKTtcclxuLy8gbW91c2UuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3V0XCIsIGNsZWFyQW5pbU1vdXNlKTtcclxuXHJcblxyXG5cclxuLy/QvNC10L3RjiDQuCDQsNCy0YLQvtGB0LrRgNC+0LvQuyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbmZ1bmN0aW9uIHJlc3RhdXJhbnRGbigpIHtcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5yZXN0YXVyYW50X19kdW1teScpLnNjcm9sbEludG9WaWV3KHtcclxuICAgICAgICBibG9jazogXCJzdGFydFwiLFxyXG4gICAgICAgIGJlaGF2aW9yOiAnc21vb3RoJ1xyXG4gICAgfSlcclxufVxyXG5cclxuZnVuY3Rpb24gbWVudUZuKCkge1xyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1lbnVfX2R1bW15Jykuc2Nyb2xsSW50b1ZpZXcoe1xyXG4gICAgICAgIGJsb2NrOiBcInN0YXJ0XCIsXHJcbiAgICAgICAgYmVoYXZpb3I6ICdzbW9vdGgnXHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gY2xhc3Nlc0ZuKCkge1xyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNsYXNzZXNfX2R1bW15Jykuc2Nyb2xsSW50b1ZpZXcoe1xyXG4gICAgICAgIGJsb2NrOiBcInN0YXJ0XCIsXHJcbiAgICAgICAgYmVoYXZpb3I6ICdzbW9vdGgnXHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gbWVudXVwMDFGbigpIHtcclxuXHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RhcnRlcnMnKS5zY3JvbGxJbnRvVmlldyh7XHJcbiAgICAgICAgYmxvY2s6IFwic3RhcnRcIixcclxuICAgICAgICBiZWhhdmlvcjogJ3Ntb290aCdcclxuICAgIH0pXHJcbn1cclxuXHJcbmZ1bmN0aW9uIG1lbnV1cDAyRm4oKSB7XHJcblxyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JyZWFrZmFzdCcpLnNjcm9sbEludG9WaWV3KHtcclxuICAgICAgICBibG9jazogXCJzdGFydFwiLFxyXG4gICAgICAgIGJlaGF2aW9yOiAnc21vb3RoJ1xyXG4gICAgfSlcclxufVxyXG5cclxuZnVuY3Rpb24gbWVudXVwMDNGbigpIHtcclxuXHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlubmVyJykuc2Nyb2xsSW50b1ZpZXcoe1xyXG4gICAgICAgIGJsb2NrOiBcInN0YXJ0XCIsXHJcbiAgICAgICAgYmVoYXZpb3I6ICdzbW9vdGgnXHJcbiAgICB9KVxyXG59XHJcblxyXG5mdW5jdGlvbiBtZW51dXAwNEZuKCkge1xyXG5cclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkcmlua3MnKS5zY3JvbGxJbnRvVmlldyh7XHJcbiAgICAgICAgYmxvY2s6IFwic3RhcnRcIixcclxuICAgICAgICBiZWhhdmlvcjogJ3Ntb290aCdcclxuICAgIH0pXHJcbn1cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbiJdfQ==